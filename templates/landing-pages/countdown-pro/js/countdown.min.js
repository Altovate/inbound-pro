// Item Name : Circular Countdown jQuery Plugin
// Author URI : http://codecanyon.net/user/Pixelworkshop/
// Version : 1.0



(function(e){function r(){var n=e("#circular_countdown"),r=(n.width()*20/100-t.strokeWidth)/2,i=r*2+t.strokeWidth,s=(n.width()-i*4)/3,o=i/2,u=i+o+s,a=i+u+s,f=i+a+s,l=i/2;e("canvas").drawArc({layer:true,name:"days_bg",group:"backgrounds",strokeStyle:t.strokeDaysBackgroundColor,x:o,y:l}).drawArc({layer:true,name:"hours_bg",group:"backgrounds",strokeStyle:t.strokeHoursBackgroundColor,x:u,y:l}).drawArc({layer:true,name:"minutes_bg",group:"backgrounds",strokeStyle:t.strokeMinutesBackgroundColor,x:a,y:l}).drawArc({layer:true,name:"seconds_bg",group:"backgrounds",strokeStyle:t.strokeSecondsBackgroundColor,x:f,y:l}).setLayerGroup("backgrounds",{strokeWidth:t.strokeBackgroundWidth,radius:r,shadowColor:t.backgroundShadowColor,shadowBlur:t.backgroundShadowBlur}).drawArc({layer:true,name:"days",group:"counters",strokeStyle:t.strokeDaysColor,x:o,y:l}).drawArc({layer:true,name:"hours",group:"counters",strokeStyle:t.strokeHoursColor,x:u,y:l}).drawArc({layer:true,name:"minutes",group:"counters",strokeStyle:t.strokeMinutesColor,x:a,y:l}).drawArc({layer:true,name:"seconds",group:"counters",strokeStyle:t.strokeSecondsColor,x:f,y:l}).setLayerGroup("counters",{strokeWidth:t.strokeWidth,radius:r,shadowColor:t.strokeShadowColor,shadowBlur:t.strokeShadowBlur}).drawLayers()}function i(){e("canvas").animateLayer("days",{end:e("#countdown_timer ul li.days em").text()*.9863},t.countdownTickSpeed,t.countdownEasing).animateLayer("hours",{end:e("#countdown_timer ul li.hours em").text()*15},t.countdownTickSpeed,t.countdownEasing).animateLayer("minutes",{end:e("#countdown_timer ul li.minutes em").text()*6},t.countdownTickSpeed,t.countdownEasing).animateLayer("seconds",{end:e("#countdown_timer ul li.seconds em").text()*6},t.countdownTickSpeed,t.countdownEasing)}function s(){e("#countdown_timer").countdown({until:new Date(2013,8,30,9),timezone:1,format:"DHMS",layout:"<ul>"+'{d<}<li class="days"><em>{dn}</em> {dl}</li>{d>}'+'{h<}<li class="hours"><em>{hn}</em> {hl}</li>{h>}'+'{m<}<li class="minutes"><em>{mn}</em> {ml}</li>{m>}'+'{s<}<li class="seconds"><em>{sn}</em> {sl}</li>{s>}'+"</ul>",onTick:function(){i()}})}var t={strokeDaysBackgroundColor:"rgba(101,127,129,0.06)",strokeDaysColor:"rgba(101,127,129,0.2)",strokeHoursBackgroundColor:"rgba(101,127,129,0.06)",strokeHoursColor:"rgba(101,127,129,0.2)",strokeMinutesBackgroundColor:"rgba(101,127,129,0.06)",strokeMinutesColor:"rgba(101,127,129,0.2)",strokeSecondsBackgroundColor:"rgba(101,127,129,0.06)",strokeSecondsColor:"rgba(101,127,129,0.2)",strokeWidth:17,strokeBackgroundWidth:17,countdownEasing:"easeOutBounce",countdownTickSpeed:"slow",backgroundShadowColor:"rgba(0,0,0,0.2)",backgroundShadowBlur:0,strokeShadowColor:"rgba(0,0,0,0.2)",strokeShadowBlur:0};var n={init:function(n){t=e.extend(1,t,n);return this.each(function(){s();if(!(e.browser.msie&&parseInt(e.browser.version)<9)){r()}})},update:function(n){t=e.extend(1,t,n)}};e.fn.circularCountdown=function(t){if(n[t]){return n[t].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof t==="object"||!t){return n.init.apply(this,arguments)}else{e.error("No found method "+t)}}})(jQuery)